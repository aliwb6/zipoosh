# ๐ ZiPoosh Backend API

ุจฺฉโุงูุฏ ูุฑูุดฺฏุงู ุขููุงู ุฒโูพูุด - ุณุงุฎุชู ุดุฏู ุจุง Node.js, Express ู MongoDB

## ๐ ููุฑุณุช ูุทุงูุจ

- [ูฺฺฏโูุง](#ูฺฺฏูุง)
- [ุชฺฉููููฺโูุง](#ุชฺฉููููฺูุง)
- [ูุตุจ ู ุฑุงูโุงูุฏุงุฒ](#ูุตุจ-ู-ุฑุงูุงูุฏุงุฒ)
- [ูุชุบุฑูุง ูุญุท](#ูุชุบุฑูุง-ูุญุท)
- [API Endpoints](#api-endpoints)
- [ุณุงุฎุชุงุฑ ูพุฑูฺู](#ุณุงุฎุชุงุฑ-ูพุฑูฺู)
- [ูุฏูโูุง ุฏุชุงุจุณ](#ูุฏููุง-ุฏุชุงุจุณ)

## โจ ูฺฺฏโูุง

- โ ุงุญุฑุงุฒ ููุช ู ูุฌูุฒุฏู ุจุง JWT
- โ ูุฏุฑุช ฺฉุงุฑุจุฑุงู (ุซุจุช ูุงูุ ูุฑูุฏุ ูพุฑููุงู)
- โ ูุฏุฑุช ูุญุตููุงุช (CRUD ฺฉุงูู)
- โ ุณุณุชู ุฏุณุชูโุจูุฏ
- โ ุณุจุฏ ุฎุฑุฏ
- โ ูุฏุฑุช ุณูุงุฑุดุงุช
- โ ุณุณุชู ูุธุฑุงุช ู ุงูุชุงุฒุฏู
- โ ฺฉุฏูุง ุชุฎูู
- โ ุขูพููุฏ ุชุตุงูุฑ ุจุง Cloudinary
- โ ุฌุณุชุฌู ู ููุชุฑ ูพุดุฑูุชู
- โ ุตูุญูโุจูุฏ
- โ ูุฏุฑุช ููุฌูุฏ
- โ ูพูู ุงุฏูู
- โ ุขูุงุฑ ู ฺฏุฒุงุฑุดโฺฏุฑ

## ๐๏ธ ุชฺฉููููฺโูุง

- **Node.js** - ูุญุท ุงุฌุฑุง JavaScript
- **Express.js** - ูุฑููุฑฺฉ ูุจ
- **MongoDB** - ุฏุชุงุจุณ NoSQL
- **Mongoose** - ODM ุจุฑุง MongoDB
- **JWT** - ุงุญุฑุงุฒ ููุช
- **Bcrypt.js** - ุฑูุฒูฺฏุงุฑ ุฑูุฒ ุนุจูุฑ
- **Cloudinary** - ุฐุฎุฑูโุณุงุฒ ุชุตุงูุฑ
- **Express Validator** - ุงุนุชุจุงุฑุณูุฌ ุฏุงุฏูโูุง
- **Multer** - ุขูพููุฏ ูุงู
- **Nodemailer** - ุงุฑุณุงู ุงูู

## ๐ฆ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง

- Node.js v18+
- MongoDB v6+
- npm ุง yarn

### ูุฑุงุญู ูุตุจ

1. **ฺฉููู ฺฉุฑุฏู ูพุฑูฺู**
```bash
git clone https://github.com/yourusername/zipoosh.git
cd zipoosh/backend
```

2. **ูุตุจ ูุงุจุณุชฺฏโูุง**
```bash
npm install
```

3. **ุชูุธู ูุชุบุฑูุง ูุญุท**
```bash
cp .env.example .env
# ูุฑุงุด ูุงู .env ู ุชูุธู ููุงุฏุฑ
```

4. **ุฑุงูโุงูุฏุงุฒ MongoDB**
```bash
# ุงฺฏุฑ MongoDB ุจู ุตูุฑุช ูุญู ูุตุจ ุดุฏู:
mongod

# ุง ุงุณุชูุงุฏู ุงุฒ MongoDB Atlas (Cloud)
```

5. **ุงุฌุฑุง ุณุฑูุฑ**
```bash
# Development mode
npm run dev

# Production mode
npm start
```

6. **Seed ฺฉุฑุฏู ุฏุงุฏูโูุง ููููู (ุงุฎุชุงุฑ)**
```bash
npm run seed
```

ุณุฑูุฑ ุฑู `http://localhost:5000` ุงุฌุฑุง ูโุดูุฏ.

## ๐ ูุชุบุฑูุง ูุญุท

ูุงู `.env` ุฑุง ุจุง ููุงุฏุฑ ุฒุฑ ุชูุธู ฺฉูุฏ:

```env
# ูุญุท ุงุฌุฑุง
NODE_ENV=development

# ูพูุฑุช ุณุฑูุฑ
PORT=5000

# ุงุชุตุงู MongoDB
MONGO_URI=mongodb://localhost:27017/zipoosh

# JWT
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRE=30d

# Cloudinary
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# Frontend URL (ุจุฑุง CORS)
FRONTEND_URL=http://localhost:5173

# Email (ุงุฎุชุงุฑ)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_email_password

# SMS (ุงุฎุชุงุฑ)
SMS_API_KEY=your_sms_api_key
```

## ๐ก API Endpoints

### Authentication (`/api/auth`)

| Method | Endpoint | ุชูุถุญุงุช | ุฏุณุชุฑุณ |
|--------|----------|---------|--------|
| POST | `/register` | ุซุจุช ูุงู ฺฉุงุฑุจุฑ ุฌุฏุฏ | Public |
| POST | `/login` | ูุฑูุฏ ฺฉุงุฑุจุฑ | Public |
| GET | `/me` | ุฏุฑุงูุช ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ | Private |
| PUT | `/profile` | ุจุฑูุฒุฑุณุงู ูพุฑููุงู | Private |
| PUT | `/change-password` | ุชุบุฑ ุฑูุฒ ุนุจูุฑ | Private |
| POST | `/forgot-password` | ูุฑุงููุด ุฑูุฒ ุนุจูุฑ | Public |
| PUT | `/reset-password/:token` | ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ | Public |
| PUT | `/avatar` | ุขูพููุฏ ุขูุงุชุงุฑ | Private |
| DELETE | `/account` | ุญุฐู ุญุณุงุจ ฺฉุงุฑุจุฑ | Private |

### Products (`/api/products`)

| Method | Endpoint | ุชูุถุญุงุช | ุฏุณุชุฑุณ |
|--------|----------|---------|--------|
| GET | `/` | ุฏุฑุงูุช ูุณุช ูุญุตููุงุช | Public |
| GET | `/:id` | ุฏุฑุงูุช ฺฉ ูุญุตูู | Public |
| POST | `/` | ุงุฌุงุฏ ูุญุตูู ุฌุฏุฏ | Admin |
| PUT | `/:id` | ุจุฑูุฒุฑุณุงู ูุญุตูู | Admin |
| DELETE | `/:id` | ุญุฐู ูุญุตูู | Admin |
| GET | `/featured/list` | ูุญุตููุงุช ูฺู | Public |
| GET | `/new-arrivals/list` | ูุญุตููุงุช ุฌุฏุฏ | Public |
| GET | `/best-sellers/list` | ูพุฑูุฑูุดโุชุฑูโูุง | Public |
| PUT | `/:id/stock` | ุจุฑูุฒุฑุณุงู ููุฌูุฏ | Admin |

### Categories (`/api/categories`)

| Method | Endpoint | ุชูุถุญุงุช | ุฏุณุชุฑุณ |
|--------|----------|---------|--------|
| GET | `/` | ุฏุฑุงูุช ูุณุช ุฏุณุชูโุจูุฏโูุง | Public |
| GET | `/:id` | ุฏุฑุงูุช ฺฉ ุฏุณุชูโุจูุฏ | Public |
| POST | `/` | ุงุฌุงุฏ ุฏุณุชูโุจูุฏ | Admin |
| PUT | `/:id` | ุจุฑูุฒุฑุณุงู ุฏุณุชูโุจูุฏ | Admin |
| DELETE | `/:id` | ุญุฐู ุฏุณุชูโุจูุฏ | Admin |

### Cart (`/api/cart`)

| Method | Endpoint | ุชูุถุญุงุช | ุฏุณุชุฑุณ |
|--------|----------|---------|--------|
| GET | `/` | ุฏุฑุงูุช ุณุจุฏ ุฎุฑุฏ | Private |
| POST | `/` | ุงูุฒูุฏู ุจู ุณุจุฏ | Private |
| PUT | `/:itemId` | ุจุฑูุฒุฑุณุงู ุชุนุฏุงุฏ | Private |
| DELETE | `/:itemId` | ุญุฐู ุงุฒ ุณุจุฏ | Private |
| DELETE | `/` | ุฎุงู ฺฉุฑุฏู ุณุจุฏ | Private |
| POST | `/apply-coupon` | ุงุนูุงู ฺฉุฏ ุชุฎูู | Private |
| DELETE | `/remove-coupon` | ุญุฐู ฺฉุฏ ุชุฎูู | Private |

### Orders (`/api/orders`)

| Method | Endpoint | ุชูุถุญุงุช | ุฏุณุชุฑุณ |
|--------|----------|---------|--------|
| POST | `/` | ุซุจุช ุณูุงุฑุด ุฌุฏุฏ | Private |
| GET | `/my-orders` | ุณูุงุฑุดุงุช ูู | Private |
| GET | `/:id` | ุฌุฒุฆุงุช ุณูุงุฑุด | Private |
| PUT | `/:id/cancel` | ูุบู ุณูุงุฑุด | Private |
| GET | `/` | ููู ุณูุงุฑุดุงุช | Admin |
| PUT | `/:id/status` | ุชุบุฑ ูุถุนุช ุณูุงุฑุด | Admin |
| GET | `/stats/dashboard` | ุขูุงุฑ ุณูุงุฑุดุงุช | Admin |

### Reviews (`/api/reviews`)

| Method | Endpoint | ุชูุถุญุงุช | ุฏุณุชุฑุณ |
|--------|----------|---------|--------|
| GET | `/product/:productId` | ูุธุฑุงุช ฺฉ ูุญุตูู | Public |
| POST | `/` | ุซุจุช ูุธุฑ ุฌุฏุฏ | Private |
| PUT | `/:id` | ูุฑุงุด ูุธุฑ | Private |
| DELETE | `/:id` | ุญุฐู ูุธุฑ | Private |
| POST | `/:id/helpful` | ุฑุง ููุฏ | Private |
| POST | `/:id/unhelpful` | ุฑุง ุบุฑููุฏ | Private |
| POST | `/:id/response` | ูพุงุณุฎ ุจู ูุธุฑ | Admin |
| PUT | `/:id/status` | ุชุงุฏ/ุฑุฏ ูุธุฑ | Admin |
| GET | `/` | ููู ูุธุฑุงุช | Admin |

### Users (`/api/users`)

| Method | Endpoint | ุชูุถุญุงุช | ุฏุณุชุฑุณ |
|--------|----------|---------|--------|
| GET | `/` | ูุณุช ฺฉุงุฑุจุฑุงู | Admin |
| GET | `/:id` | ุงุทูุงุนุงุช ฺฉ ฺฉุงุฑุจุฑ | Admin |
| PUT | `/:id` | ุจุฑูุฒุฑุณุงู ฺฉุงุฑุจุฑ | Admin |
| DELETE | `/:id` | ุญุฐู ฺฉุงุฑุจุฑ | Admin |
| POST | `/addresses` | ุงูุฒูุฏู ุขุฏุฑุณ | Private |
| PUT | `/addresses/:id` | ูุฑุงุด ุขุฏุฑุณ | Private |
| DELETE | `/addresses/:id` | ุญุฐู ุขุฏุฑุณ | Private |
| POST | `/wishlist/:productId` | ุงูุฒูุฏู ุจู ุนูุงููโููุฏโูุง | Private |
| DELETE | `/wishlist/:productId` | ุญุฐู ุงุฒ ุนูุงููโููุฏโูุง | Private |
| GET | `/wishlist` | ูุณุช ุนูุงููโููุฏโูุง | Private |
| GET | `/stats/dashboard` | ุขูุงุฑ ฺฉุงุฑุจุฑุงู | Admin |

### Coupons (`/api/coupons`)

| Method | Endpoint | ุชูุถุญุงุช | ุฏุณุชุฑุณ |
|--------|----------|---------|--------|
| POST | `/validate` | ุงุนุชุจุงุฑุณูุฌ ฺฉุฏ ุชุฎูู | Private |
| GET | `/` | ูุณุช ฺฉุฏูุง ุชุฎูู | Admin |
| GET | `/:id` | ุฌุฒุฆุงุช ฺฉุฏ ุชุฎูู | Admin |
| POST | `/` | ุงุฌุงุฏ ฺฉุฏ ุชุฎูู | Admin |
| PUT | `/:id` | ุจุฑูุฒุฑุณุงู ฺฉุฏ ุชุฎูู | Admin |
| DELETE | `/:id` | ุญุฐู ฺฉุฏ ุชุฎูู | Admin |

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
backend/
โโโ src/
โ   โโโ config/
โ   โ   โโโ db.js              # ุชูุธูุงุช MongoDB
โ   โโโ models/
โ   โ   โโโ User.js            # ูุฏู ฺฉุงุฑุจุฑ
โ   โ   โโโ Product.js         # ูุฏู ูุญุตูู
โ   โ   โโโ Category.js        # ูุฏู ุฏุณุชูโุจูุฏ
โ   โ   โโโ Order.js           # ูุฏู ุณูุงุฑุด
โ   โ   โโโ Cart.js            # ูุฏู ุณุจุฏ ุฎุฑุฏ
โ   โ   โโโ Review.js          # ูุฏู ูุธุฑ
โ   โ   โโโ Coupon.js          # ูุฏู ฺฉุฏ ุชุฎูู
โ   โโโ controllers/
โ   โ   โโโ authController.js
โ   โ   โโโ productController.js
โ   โ   โโโ categoryController.js
โ   โ   โโโ orderController.js
โ   โ   โโโ cartController.js
โ   โ   โโโ reviewController.js
โ   โ   โโโ userController.js
โ   โโโ routes/
โ   โ   โโโ authRoutes.js
โ   โ   โโโ productRoutes.js
โ   โ   โโโ categoryRoutes.js
โ   โ   โโโ orderRoutes.js
โ   โ   โโโ cartRoutes.js
โ   โ   โโโ reviewRoutes.js
โ   โ   โโโ userRoutes.js
โ   โ   โโโ couponRoutes.js
โ   โโโ middleware/
โ   โ   โโโ auth.js            # ุงุญุฑุงุฒ ููุช
โ   โ   โโโ admin.js           # ุจุฑุฑุณ ุงุฏูู
โ   โ   โโโ errorHandler.js    # ูุฏุฑุช ุฎุทุง
โ   โ   โโโ upload.js          # ุขูพููุฏ ูุงู
โ   โ   โโโ validation.js      # ุงุนุชุจุงุฑุณูุฌ
โ   โโโ utils/
โ   โ   โโโ cloudinary.js      # Cloudinary helper
โ   โ   โโโ generateToken.js   # ุชููุฏ JWT
โ   โ   โโโ helpers.js         # ุชูุงุจุน ฺฉูฺฉ
โ   โ   โโโ sendEmail.js       # ุงุฑุณุงู ุงูู
โ   โ   โโโ sendSMS.js         # ุงุฑุณุงู ูพุงูฺฉ
โ   โ   โโโ seedProducts.js    # Seed ุฏุงุฏูโูุง
โ   โโโ server.js              # ููุทู ูุฑูุฏ ุจุฑูุงูู
โโโ .env.example               # ููููู ูุชุบุฑูุง ูุญุท
โโโ .gitignore
โโโ package.json
โโโ README.md
```

## ๐พ ูุฏูโูุง ุฏุชุงุจุณ

### User (ฺฉุงุฑุจุฑ)
- ุงุทูุงุนุงุช ุดุฎุต (ูุงูุ ุงููุ ุดูุงุฑู ุชููู)
- ุฑูุฒ ุนุจูุฑ (ูุด ุดุฏู)
- ููุด (user/admin)
- ุขุฏุฑุณโูุง
- ูุณุช ุนูุงููโููุฏโูุง
- ูุถุนุช ุญุณุงุจ

### Product (ูุญุตูู)
- ุงุทูุงุนุงุช ุงุตู (ูุงูุ ุชูุถุญุงุชุ ููุช)
- ุฏุณุชูโุจูุฏ
- ุชุตุงูุฑ
- ุฑูฺฏโูุง ู ุณุงุฒูุง
- ููุฌูุฏ
- ุงูุชุงุฒ ู ูุธุฑุงุช
- ุชุฎูู

### Category (ุฏุณุชูโุจูุฏ)
- ูุงู ู ุชูุถุญุงุช
- ุชุตูุฑ
- ุฏุณุชูโุจูุฏ ูุงูุฏ
- ุฒุฑ ุฏุณุชูโุจูุฏโูุง
- ุชุฑุชุจ ููุงุด

### Order (ุณูุงุฑุด)
- ุดูุงุฑู ุณูุงุฑุด ููฺฉ
- ฺฉุงุฑุจุฑ
- ุขุชูโูุง ุณูุงุฑุด
- ุขุฏุฑุณ ุงุฑุณุงู
- ุงุทูุงุนุงุช ูพุฑุฏุงุฎุช
- ูุถุนุช ุณูุงุฑุด
- ุชุงุฑุฎฺู ูุถุนุช

### Cart (ุณุจุฏ ุฎุฑุฏ)
- ฺฉุงุฑุจุฑ
- ุขุชูโูุง ุณุจุฏ
- ฺฉุฏ ุชุฎูู ุงุนูุงู ุดุฏู
- ูุญุงุณุจุงุช ุฎูุฏฺฉุงุฑ

### Review (ูุธุฑ)
- ูุญุตูู
- ฺฉุงุฑุจุฑ
- ุงูุชุงุฒ (1-5)
- ูุชู ูุธุฑ
- ููุงุท ูุซุจุช/ููู
- ุชุตุงูุฑ
- ูุถุนุช ุชุงุฏ

### Coupon (ฺฉุฏ ุชุฎูู)
- ฺฉุฏ ุชุฎูู
- ููุน ุชุฎูู (ุฏุฑุตุฏ/ุซุงุจุช)
- ูุญุฏูุฏุชโูุง
- ุชุงุฑุฎ ุดุฑูุน/ุงููุถุง
- ุชุนุฏุงุฏ ุงุณุชูุงุฏู

## ๐ ุงููุช

- ุฑูุฒ ุนุจูุฑ ุจุง bcrypt ูุด ูโุดูุฏ
- ุงุญุฑุงุฒ ููุช ุจุง JWT
- ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏโูุง
- ูุญุงูุธุช ุฏุฑ ุจุฑุงุจุฑ NoSQL Injection
- CORS ูพฺฉุฑุจูุฏ ุดุฏู
- Rate Limiting (ุฏุฑ ุตูุฑุช ูุงุฒ)
- Helmet ุจุฑุง ุงููุช Headers

## ๐งช ุชุณุช

```bash
# ุงุฌุฑุง ุชุณุชโูุง
npm test

# ุชุณุช ุจุง coverage
npm run test:coverage
```

## ๐ ูุงฺฏโูุง

ูุงฺฏโูุง ููู ุฏุฑ console ููุงุด ุฏุงุฏู ูโุดููุฏ:
- โ ุงุชุตุงู ูููู ุจู MongoDB
- ๐ ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ
- โ ุฎุทุงูุง
- ๐ ุงุนูุงู ุงุฏูู (ุฏุฑ ุตูุฑุช ูุนุงู ุจูุฏู)

## ๐ค ูุดุงุฑฺฉุช

1. Fork ฺฉูุฏ
2. ุจุฑูฺ ุฌุฏุฏ ุจุณุงุฒุฏ (`git checkout -b feature/amazing-feature`)
3. ุชุบุฑุงุช ุฑุง commit ฺฉูุฏ (`git commit -m 'Add amazing feature'`)
4. ุจู ุจุฑูฺ push ฺฉูุฏ (`git push origin feature/amazing-feature`)
5. Pull Request ุจุงุฒ ฺฉูุฏ

## ๐ ูุงุณูุณ

ุงู ูพุฑูฺู ุชุญุช ูุงุณูุณ MIT ุงุณุช.

## ๐ฅ ุชู ุชูุณุนู

- **ZiPoosh Team** - ุชูุณุนูโุฏููุฏู ุงุตู

## ๐ ูพุดุชุจุงู

ุจุฑุง ฺฏุฒุงุฑุด ูุดฺฉูุงุช ุง ูพุดููุงุฏุงุชุ ูุทูุงู ฺฉ Issue ุฏุฑ GitHub ุจุงุฒ ฺฉูุฏ.

---

ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ุชูุณุท ุชู ุฒโูพูุด
